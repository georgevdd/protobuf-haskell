#summary A guide to Haskell source code generated by hprotoc.

= Compiler Invocation =

= Packages =

= Messages =

Given a message declaration:

{{{
message Foo {}
}}}

hprotoc generates a data type `Foo` with a single record-style constructor. `Foo` is a member of the following standard type classes:
  * `Show`;
  * `Eq`;
  * `Ord`;
  * `Typeable`.
`Foo` is also a member of the following type classes:
  * [http://hackage.haskell.org/packages/archive/protocol-buffers/latest/doc/html/Text-ProtocolBuffers-Basic.html#t:Mergeable Text.ProtocolBuffers.Basic.Mergeable] (providing `mergeAppend` for merging the contents of two messages);
  * [http://hackage.haskell.org/packages/archive/protocol-buffers/latest/doc/html/Text-ProtocolBuffers-Basic.html#t:Default Text.ProtocolBuffers.Basic.Default] (providing `defaultValue`, a `Foo` whose fields all have their default values);
  * [http://hackage.haskell.org/packages/archive/protocol-buffers/latest/doc/html/Text-ProtocolBuffers-WireMessage.html#t:Wire Text.ProtocolBuffers.WireMessage.Wire] (providing serialization and deserialization);
  * [http://hackage.haskell.org/packages/archive/protocol-buffers/latest/doc/html/Text-ProtocolBuffers-Extensions.html#t:GPB Text.ProtocolBuffers.Extensions.GPB] (a convenient shorthand for all the above type classes);
  * [http://hackage.haskell.org/packages/archive/protocol-buffers/latest/doc/html/Text-ProtocolBuffers-Reflections.html#t:ReflectDescriptor Text.ProtocolBuffers.Reflections.ReflectDescriptor] (allowing reflection of the structure of the data type, including the tag numbers of its fields).

= Fields =

Each field declared in a message has a label, a type and a name. Each corresponding Haskell field has a type and a name.

== Field Types ==

A generated Haskell record field has a type based on both the source type and the source label, as described by the following two tables:

|| *Field Type* || *Haskell Type* ||
|| double || Double ||
|| float || Float ||
|| int32 || Int32 ||
|| int64 || Int64 ||
|| uint32 || Word32 ||
|| uint64 || Word64 ||
|| sint32 || Int32 ||
|| sint64 || Int64 ||
|| fixed32 || Word32 ||
|| fixed64 || Word64 ||
|| sfixed32 || Int32 ||
|| sfixed64 || Int64 ||
|| bool || Bool ||
|| string || Utf8 ||
|| bytes || ByteString ||

|| *Field Label* || *Haskell Type* ||
|| required || a ||
|| optional || Maybe a ||
|| repeated || Seq a ||

== Field Names ==

A Haskell field name is the same as the source field name, except where that name is a Haskell keyword, in which case `'` is appended.

== Examples ==

|| *Field* || *Haskell Field* || 
|| `optional fixed64 hash` || `Maybe Word32 :: hash` ||
|| `required bytes blob` || `blob :: ByteString` ||
|| `repeated string instance` || `instance' :: Seq Utf8` ||

= Enumerations =

= Extensions =

If a message `Foo` extends another message:
{{{
(TODO)
}}}
then `Foo` is an instance of one more type class:
  * [http://hackage.haskell.org/packages/archive/protocol-buffers/latest/doc/html/Text-ProtocolBuffers-Extensions.html#t:MessageAPI Text.ProtocolBuffers.Extensions.MessageAPI].



= Services =